crystal_doc_search_index_callback({"repository_name":"kemal-controller","body":"# kemal-controller\n\nKemal is awesome, but sometimes you need (or just want) a bit more structure in\nyour web applications, kemal-controller is here to help you with that by\nproviding a simple way to declare all your endpoints into controller classes\nwhere the method parameters will map to GET/PATCH/.../POST/URL parameters automatically.\n\nOnline documentation can be found at: <https://hugopl.github.io/kemal-controller/>.\n\nControllers are structs, so the overhead is minimal and you can still use all\nKemal features as you would normally do.\n\n```Crystal\nstruct UsersController < Kemal::Controller\n  @[Get(\"/users\")]\n  def index\n    \"Listing all users\"\n  end\n\n  @[Get(\"/users/:id\")]\n  def show(id : Int32)\n    \"Showing user with ID: #{id}\"\n  end\n\n  @[Post(\"/users\")]\n  def create(name : String, age : Int32, description : String?))\n    \"Creating user with name: #{name}, age: #{age} and description: #{description}\"\n  end\nend\n```\n\nKemal-controller also supports arrays and named tuples in arguments, so you get a type safe way to handle the endpoint parameters.\n\n```Crystal\nstruct ProductsController < Kemal::Controller\n  @[Get(\"/products\")]\n  def filter(categories : Array(String), price_range : NamedTuple(min : Float64, max : Float64))\n    \"Filtering products in categories: #{categories.join(\", \")} with price between #{price_range[:min]} and #{price_range[:max]}\"\n  end\nend\n```\nIt supports nested named tuples/arrays in any combination as well.\n\n```Crystal\nstruct OrdersController < Kemal::Controller\n  @[Post(\"/orders\")]\n  def create(items : Array(NamedTuple(id : Int32, quantity : Int32)),\n             shipping_address : NamedTuple(street : String, city : String, zip : String))\n    \"Creating order with items: #{items.inspect} to be shipped to #{shipping_address[:street]}, #{shipping_address[:city]}, #{shipping_address[:zip]}\"\n  end\nend\n```\n\nDefault values aren't supported yet, meanwhile use a nilable type and handle the defaulting logic inside the method.\n\n### How the parameters are mapped?\n\nKemal-controller interprets the form keys almost like Rails does:\n\n- `item[foo]=bar` becomes `item : NamedTuple(foo : String)`\n- `items[]=1&items[]=2` becomes `items : Array(Int32)`\n- `items[][id]=1&items[][quantity]=2&items[][id]=3&items[][quantity]=4` becomes `items : Array(NamedTuple(id : Int32, quantity : Int32))`\n- `name=John` becomes `name : String`\n\n### Supported types\n\n- String\n- Int32\n- Int64\n- Enums\n- Bool\n- NamedTuple (with nested support)\n- Array (with nested support)\n- Nilable versions of the above types\n\nMore types may be added in the future, feel free to open an issue or a PR if you need something specific.\n\n### Enums\n\nEnums are supported as method parameters as well, anything accepted by `Enum.new` or `Enum.parse` is recognized.\n\n### Stripping parameters\n\nIf you need to strip all parameters (like leading/trailing spaces) before they\nreach your controller methods, you can use the `strip` flag on method annotation.\n\nTo strip specific parameters use an array of symbols instead of true.\n\n```Crystal\nstruct UsersController < Kemal::Controller\n    @[Post(\"/users\", strip: true)]\n    def create(name : String, description : String?)\n      \"Creating user with name: '#{name}', description: '#{description}'\"\n    end\n\n    @[Get(\"/users/edit\", strip: [:email])]\n    def login(email : String, password : String)\n      \"Logging in user with email: '#{email}'\"\n    end\nend\n```\n\n### Authenticated/protected routes\n\nIf you need to protect some routes with authentication you must set the `auth`\nflag to true in the method annotation and implement the `authenticate! : Bool`\nmethod in your controller.\n\nIf `authenticate!` returns false the request will be halted and no further\nprocessing will be done, status code is set to 401 (Unauthorized).\n\n```Crystal\nstruct AdminController < Kemal::Controller\n  @[Get(\"/admin/dashboard\", auth: true)]\n  def dashboard\n    \"Welcome to the admin dashboard!\"\n  end\n\n  private def authenticate! : Bool\n    if !current_user.try(&.current_user.admin?)\n      redirect(\"/login\")\n      return false\n    end\n    true\n  end\nend\n```\n\n### Printing routes\n\nYou can print all registered routes by calling the `Kemal.print_routes` method,\nuseful for debugging purposes.\n\n```Crystal\nKemal.config.extra_options do |parser|\n  parser.on(\"--routes\", \"Show all routes\") do\n    Kemal.print_routes\n    exit(0)\n  end\nend\n```\n\nOn `--routes` your app will print something like:\n\n```\n   GET  /area51                    TestController#area51()\n  POST  /array_of_named_tuples     TestController#array_of_named_tuples(items : Array(NamedTuple(name: String, age: Int32)))\n   GET  /hello                     TestController#hello(name : String)\n  POST  /hello                     TestController#post_hello(name : String)\n   GET  /regular_kemal_route       ?\n\n4 routes\n```\n\n## Installation\n\n1. Add the dependency to your `shard.yml`:\n\n   ```yaml\n   dependencies:\n     kemal-controller:\n       github: hugopl/kemal-controller\n   ```\n\n2. Run `shards install`\n\n\n## Contributing\n\n1. Fork it (<https://github.com/hugopl/kemal-controller/fork>)\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## Contributors\n\n- [Hugo Parente Lima](https://github.com/hugopl) - creator and maintainer\n","program":{"html_id":"kemal-controller/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"kemal-controller","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"kemal-controller/Kemal","path":"Kemal.html","kind":"module","full_name":"Kemal","name":"Kemal","abstract":false,"locations":[{"filename":"lib/kemal/src/kemal.cr","line_number":9,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal.cr#L9"},{"filename":"lib/kemal/src/kemal/base_log_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/base_log_handler.cr#L1"},{"filename":"lib/kemal/src/kemal/cli.cr","line_number":3,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/cli.cr#L3"},{"filename":"lib/kemal/src/kemal/config.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/config.cr#L1"},{"filename":"lib/kemal/src/kemal/exception_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/exception_handler.cr#L1"},{"filename":"lib/kemal/src/kemal/file_upload.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/file_upload.cr#L1"},{"filename":"lib/kemal/src/kemal/filter_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/filter_handler.cr#L1"},{"filename":"lib/kemal/src/kemal/handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/handler.cr#L1"},{"filename":"lib/kemal/src/kemal/head_request_handler.cr","line_number":3,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/head_request_handler.cr#L3"},{"filename":"lib/kemal/src/kemal/helpers/exception_page.cr","line_number":3,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/helpers/exception_page.cr#L3"},{"filename":"lib/kemal/src/kemal/helpers/utils.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/helpers/utils.cr#L1"},{"filename":"lib/kemal/src/kemal/init_handler.cr","line_number":3,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/init_handler.cr#L3"},{"filename":"lib/kemal/src/kemal/log_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/log_handler.cr#L1"},{"filename":"lib/kemal/src/kemal/null_log_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/null_log_handler.cr#L1"},{"filename":"lib/kemal/src/kemal/override_method_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/override_method_handler.cr#L1"},{"filename":"lib/kemal/src/kemal/param_parser.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/param_parser.cr#L1"},{"filename":"lib/kemal/src/kemal/request_log_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/request_log_handler.cr#L1"},{"filename":"lib/kemal/src/kemal/route.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/route.cr#L1"},{"filename":"lib/kemal/src/kemal/route_handler.cr","line_number":3,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/route_handler.cr#L3"},{"filename":"lib/kemal/src/kemal/ssl.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/ssl.cr#L1"},{"filename":"lib/kemal/src/kemal/static_file_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/static_file_handler.cr#L1"},{"filename":"lib/kemal/src/kemal/websocket.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/websocket.cr#L1"},{"filename":"lib/kemal/src/kemal/websocket_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/websocket_handler.cr#L1"},{"filename":"src/ext/param_parser.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/ext/param_parser.cr#L1"},{"filename":"src/ext/route_handler.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/ext/route_handler.cr#L1"},{"filename":"src/kemal/controller.cr","line_number":5,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L5"},{"filename":"src/kemal/from_www_form.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/from_www_form.cr#L1"},{"filename":"src/kemal/print_routes.cr","line_number":1,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/print_routes.cr#L1"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"class_methods":[{"html_id":"print_routes(io:IO=STDOUT)-class-method","name":"print_routes","doc":"Prints all registered routes to the specified IO stream.\n\nDisplays a formatted table of all routes registered in the application,\nincluding HTTP method, path, controller/method name, and authentication/strip status.\nRoutes are sorted by path and method.\n\n## Parameters\n\n- `io` : IO - The output stream to write to (default: STDOUT)\n\n## Authentication and Stripping Indicators\n\n- üîí - Route requires authentication (auth: true)\n- ‚úÇÔ∏è - Route strips parameters (strip: true or strip: [...])\n\n## Example\n\n```\nKemal.print_routes\n# Output:\n#    GET üîí    /area51                    TestController#area51()\n#   POST       /array_of_named_tuples     TestController#array_of_named_tuples(items : Array(NamedTuple(name: String, age: Int32)))\n#    GET    ‚úÇÔ∏è  /strip                     TestController#strip(something : String)\n#\n# 3 routes\n```\n\n## Example with Command Line Option\n\n```\nKemal.config.extra_options do |parser|\n  parser.on(\"--routes\", \"Show all routes\") do\n    Kemal.print_routes\n    exit(0)\n  end\nend\n```","summary":"<p>Prints all registered routes to the specified IO stream.</p>","abstract":false,"args":[{"name":"io","default_value":"STDOUT","external_name":"io","restriction":"IO"}],"args_string":"(io : IO = STDOUT)","args_html":"(io : IO = <span class=\"t\">STDOUT</span>)","location":{"filename":"src/kemal/print_routes.cr","line_number":39,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/print_routes.cr#L39"},"def":{"name":"print_routes","args":[{"name":"io","default_value":"STDOUT","external_name":"io","restriction":"IO"}],"visibility":"Public","body":"routes_metadata = Kemal::RouteHandler::INSTANCE.routes_metadata\nroutes = routes_metadata.keys\nroutes.sort_by! do |route| {route.path, route.method} end\n\ncolor_control_chars = Colorize.enabled? ? 10 : 0\nmax_path_size : Int32 = routes.max_by() do |__arg0| __arg0.path.size end.path.size + color_control_chars\n\nroutes.each do |route|\n  route_metadata = routes_metadata[route]\n  auth = route_metadata[:auth] ? \"üîí \" : \"   \"\n  strip = route_metadata[:strip] ? \"‚úÇÔ∏è \" : \"  \"\n\n  if route_metadata[:location] =~ (/\\A(\\w+)#(\\w+)(.*)\\z/)\n    class_name = $~[1]\n    method = $~[2]\n    args = $~[3]\n    location = \"#{class_name.colorize.magenta}##{method.colorize.green}#{args}\"\n  end\n\n  io.printf(\"%#{color_control_chars + 6}s #{auth}#{strip} %-#{max_path_size}s  %s\\n\", route.method.colorize.blue, route.path.colorize.cyan, location)\nend\nio.puts(\"\\n#{routes.size} routes\")\n"},"external_var":false},{"html_id":"redacted_parameters-class-method","name":"redacted_parameters","doc":"List of parameter name keywords that trigger automatic redaction in logs.\n\nThe following parameters are automatically redacted if a request contains\na parameter whose name partially matches one of these keywords (case-sensitive).\nUse lowercase parameter names to ensure proper redaction.\n\nDefault keywords: `passw`, `secret`, `token`, `_key`, `crypt`, `salt`,\n`certificate`, `otp`, `ssn`, `cvv`, `cvc`\n\n## Example\n\n```\nKemal.redacted_parameters << \"api_key\"\n```","summary":"<p>List of parameter name keywords that trigger automatic redaction in logs.</p>","abstract":false,"location":{"filename":"src/kemal/from_www_form.cr","line_number":21,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/from_www_form.cr#L21"},"def":{"name":"redacted_parameters","visibility":"Public","body":"@@redacted_parameters"},"external_var":false},{"html_id":"redacted_parameters=(redacted_parameters)-class-method","name":"redacted_parameters=","doc":"List of parameter name keywords that trigger automatic redaction in logs.\n\nThe following parameters are automatically redacted if a request contains\na parameter whose name partially matches one of these keywords (case-sensitive).\nUse lowercase parameter names to ensure proper redaction.\n\nDefault keywords: `passw`, `secret`, `token`, `_key`, `crypt`, `salt`,\n`certificate`, `otp`, `ssn`, `cvv`, `cvc`\n\n## Example\n\n```\nKemal.redacted_parameters << \"api_key\"\n```","summary":"<p>List of parameter name keywords that trigger automatic redaction in logs.</p>","abstract":false,"args":[{"name":"redacted_parameters","external_name":"redacted_parameters","restriction":""}],"args_string":"(redacted_parameters)","args_html":"(redacted_parameters)","location":{"filename":"src/kemal/from_www_form.cr","line_number":21,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/from_www_form.cr#L21"},"def":{"name":"redacted_parameters=","args":[{"name":"redacted_parameters","external_name":"redacted_parameters","restriction":""}],"visibility":"Public","body":"@@redacted_parameters = redacted_parameters"},"external_var":false}],"types":[{"html_id":"kemal-controller/Kemal/Controller","path":"Kemal/Controller.html","kind":"struct","full_name":"Kemal::Controller","name":"Controller","abstract":true,"superclass":{"html_id":"kemal-controller/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"kemal-controller/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"kemal-controller/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"kemal-controller/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/kemal/controller.cr","line_number":91,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L91"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal","kind":"module","full_name":"Kemal","name":"Kemal"},"doc":"Abstract controller class that provides a structured way to define HTTP endpoints.\n\nControllers are structs, so the overhead is minimal and you can still use all\nKemal features. Method parameters automatically map to GET/POST/URL parameters\nwith type-safe conversion.\n\n## Example\n\n```\nstruct UsersController < Kemal::Controller\n  @[Get(\"/users\")]\n  def index\n    \"Listing all users\"\n  end\n\n  @[Get(\"/users/:id\")]\n  def show(id : Int32)\n    \"Showing user with ID: #{id}\"\n  end\n\n  @[Post(\"/users\")]\n  def create(name : String, age : Int32, description : String?)\n    \"Creating user with name: #{name}, age: #{age}, description: #{description}\"\n  end\nend\n```\n\n## Supported Parameter Types\n\n- String\n- Int32, Int64\n- Bool\n- Array (with nested support)\n- NamedTuple (with nested support)\n- Nilable versions of the above\n\n## Parameter Mapping\n\n- `name=John` becomes `name : String`\n- `item[foo]=bar` becomes `item : NamedTuple(foo: String)`\n- `items[]=1&items[]=2` becomes `items : Array(Int32)`\n- `items[][id]=1&items[][quantity]=2` becomes `items : Array(NamedTuple(id: Int32, quantity: Int32))`\n\n## Route annotation parameters\n\n- `path` : String - The URL path for the route (can include path parameters like `:id`)\n- `auth` : Bool - If true, requires authentication via `authenticate!` method (default: false)\n- `strip` : Bool | Array(Symbol) - If true, strips all parameters; if array, strips only specified parameters (default: false)\n\n## Example\n\n```\n@[Get(\"/users/:id\")]\ndef show(id : Int32)\n  \"User #{id}\"\nend\n```\n\n## Example with Authentication\n\n```\n@[Get(\"/admin/dashboard\", auth: true)]\ndef dashboard\n  \"Admin Dashboard\"\nend\n\nprivate def authenticate! : Bool\n  # Return false to halt with 401 status\n  request.headers[\"Authorization\"]? == \"SecretToken\"\nend\n```\n\n## Example with Parameter Stripping\n\n```\n@[Post(\"/users\", strip: true)]\ndef create(name : String, description : String?)\n  # name and description will have leading/trailing whitespace removed\nend\n\n@[Post(\"/login\", strip: [:email])]\ndef login(email : String, password : String)\n  # Only email will be stripped, password remains unchanged\nend\n```","summary":"<p>Abstract controller class that provides a structured way to define HTTP endpoints.</p>","constructors":[{"html_id":"new(context:HTTP::Server::Context)-class-method","name":"new","doc":"Initializes a new controller instance.\n\nThis is called automatically by the framework when processing a request.\nYou typically don't need to call this directly.\n\n## Parameters\n\n- `context` : HTTP::Server::Context - The HTTP server context for the request","summary":"<p>Initializes a new controller instance.</p>","abstract":false,"args":[{"name":"context","external_name":"context","restriction":"HTTP::Server::Context"}],"args_string":"(context : HTTP::Server::Context)","args_html":"(context : HTTP::Server::Context)","location":{"filename":"src/kemal/controller.cr","line_number":206,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L206"},"def":{"name":"new","args":[{"name":"context","external_name":"context","restriction":"HTTP::Server::Context"}],"visibility":"Public","body":"_ = allocate\n_.initialize(context)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}],"instance_methods":[{"html_id":"context:HTTP::Server::Context-instance-method","name":"context","doc":"The HTTP server context for the current request.\n\nProvides access to the underlying HTTP::Server::Context which contains\nthe request and response objects.","summary":"<p>The HTTP server context for the current request.</p>","abstract":false,"location":{"filename":"src/kemal/controller.cr","line_number":162,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L162"},"def":{"name":"context","return_type":"HTTP::Server::Context","visibility":"Public","body":"@context"},"external_var":false},{"html_id":"error(field,message,status:HTTP::Status|Nil=nil)-instance-method","name":"error","doc":"Adds a field-specific error message.\n\nStores an error message for a specific field and sets the appropriate HTTP status code.\nIf no custom status is provided, sets 400 (Bad Request) for GET/HEAD/OPTIONS requests\nor 422 (Unprocessable Entity) for POST/PUT/PATCH/DELETE requests.\n\n## Parameters\n\n- `field` : String - The name of the field that has an error\n- `message` : String - The error message for this field\n- `status` : HTTP::Status? - Optional custom HTTP status code (default: nil)\n\n## Example\n\n```\ndef create(email : String, password : String)\n  if !email.includes?(\"@\")\n    error(\"email\", \"Invalid email format\")\n    render(\"src/views/users/new.ecr\")\n    return\n  end\n  if password.size < 8\n    error(\"password\", \"Password must be at least 8 characters\", HTTP::Status::BAD_REQUEST)\n    render(\"src/views/users/new.ecr\")\n    return\n  end\nend\n```","summary":"<p>Adds a field-specific error message.</p>","abstract":false,"args":[{"name":"field","external_name":"field","restriction":""},{"name":"message","external_name":"message","restriction":""},{"name":"status","default_value":"nil","external_name":"status","restriction":"HTTP::Status | ::Nil"}],"args_string":"(field, message, status : HTTP::Status | Nil = nil)","args_html":"(field, message, status : HTTP::Status | Nil = <span class=\"n\">nil</span>)","location":{"filename":"src/kemal/controller.cr","line_number":262,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L262"},"def":{"name":"error","args":[{"name":"field","external_name":"field","restriction":""},{"name":"message","external_name":"message","restriction":""},{"name":"status","default_value":"nil","external_name":"status","restriction":"HTTP::Status | ::Nil"}],"visibility":"Public","body":"errors = @errors || (@errors = {} of String => String)\nerrors[field] = message\nstatus || (\n  status = case request.method\n  when \"GET\", \"HEAD\", \"OPTIONS\"\n    HTTP::Status::BAD_REQUEST\n  when \"POST\", \"PUT\", \"PATCH\", \"DELETE\"\n    HTTP::Status::UNPROCESSABLE_ENTITY\n  else\n    Log.fatal do \"Unknown HTTP method: #{request.method}\" end\n    HTTP::Status::INTERNAL_SERVER_ERROR\n  end\n)\nresponse.status = status\n"},"external_var":false},{"html_id":"error(message:String)-instance-method","name":"error","doc":"Adds a general error message to the base error field.\n\nThis is useful for errors that don't belong to a specific field.\nSets the response status to 400 (Bad Request) for GET/HEAD/OPTIONS requests\nor 422 (Unprocessable Entity) for POST/PUT/PATCH/DELETE requests.\n\n## Parameters\n\n- `message` : String - The error message to add\n\n## Example\n\n```\ndef create(name : String)\n  if name.empty?\n    error(\"Name cannot be empty\")\n    render(\"src/views/users/new.ecr\")\n    return\n  end\nend\n```","summary":"<p>Adds a general error message to the base error field.</p>","abstract":false,"args":[{"name":"message","external_name":"message","restriction":"String"}],"args_string":"(message : String)","args_html":"(message : String)","location":{"filename":"src/kemal/controller.cr","line_number":230,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L230"},"def":{"name":"error","args":[{"name":"message","external_name":"message","restriction":"String"}],"visibility":"Public","body":"error(\"base\", message)"},"external_var":false},{"html_id":"error_for?(field:String):String|Nil-instance-method","name":"error_for?","doc":"Returns the error message for a specific field.\n\nReturns `nil` if there is no error for the specified field.\n\n## Parameters\n\n- `field` : String - The name of the field to check for errors\n\n## Example\n\n```\ndef create(email : String)\n  error(\"email\", \"Invalid email\") unless email.includes?(\"@\")\n\n  if msg = error_for?(\"email\")\n    render(\"src/views/users/new.ecr\")\n    return\n  end\nend\n```","summary":"<p>Returns the error message for a specific field.</p>","abstract":false,"args":[{"name":"field","external_name":"field","restriction":"String"}],"args_string":"(field : String) : String | Nil","args_html":"(field : String) : String | Nil","location":{"filename":"src/kemal/controller.cr","line_number":339,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L339"},"def":{"name":"error_for?","args":[{"name":"field","external_name":"field","restriction":"String"}],"return_type":"String | ::Nil","visibility":"Public","body":"@errors.try(&.[]?(field))"},"external_var":false},{"html_id":"error_for_base:String|Nil-instance-method","name":"error_for_base","doc":"Returns the error message for the \"base\" field.\n\nThe \"base\" field is used for general errors that don't belong to a specific field.\nReturns `nil` if there is no base error.\n\n## Example\n\n```\ndef update\n  error(\"Something went wrong\")\n  if msg = error_for_base\n    render(\"src/views/error.ecr\")\n    return\n  end\nend\n```","summary":"<p>Returns the error message for the &quot;base&quot; field.</p>","abstract":false,"location":{"filename":"src/kemal/controller.cr","line_number":315,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L315"},"def":{"name":"error_for_base","return_type":"String | ::Nil","visibility":"Public","body":"@errors.try(&.[]?(\"base\"))"},"external_var":false},{"html_id":"errors:Errors|Nil-instance-method","name":"errors","doc":"Hash of validation errors that occurred during request processing.\n\nMaps field names to error messages. Use `error` methods to add errors\nand `has_error?`, `error_for?`, `error_for_base` to check for errors.\n\nReturns `nil` if no errors have been recorded.","summary":"<p>Hash of validation errors that occurred during request processing.</p>","abstract":false,"location":{"filename":"src/kemal/controller.cr","line_number":170,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L170"},"def":{"name":"errors","return_type":"Errors | ::Nil","visibility":"Public","body":"@errors"},"external_var":false},{"html_id":"has_error?:Bool-instance-method","name":"has_error?","doc":"Checks if any errors have been recorded.\n\nReturns `true` if there are one or more validation errors, `false` otherwise.\n\n## Example\n\n```\ndef create(name : String, email : String)\n  error(\"name\", \"Name is required\") if name.empty?\n  error(\"email\", \"Email is required\") if email.empty?\n\n  if has_error?\n    render(\"src/views/users/new.ecr\")\n    return\n  end\n\n  # Process the valid data\nend\n```","summary":"<p>Checks if any errors have been recorded.</p>","abstract":false,"location":{"filename":"src/kemal/controller.cr","line_number":294,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L294"},"def":{"name":"has_error?","return_type":"Bool","visibility":"Public","body":"errors = @errors\n(!errors.nil?) && !errors.empty?\n"},"external_var":false},{"html_id":"redirect(*args,**options)-instance-method","name":"redirect","doc":"Delegates to the redirect method from the context.\n\nRedirects the request to another URL.\n\n## Example\n\n```\nredirect(\"/login\")\n```","summary":"<p>Delegates to the redirect method from the context.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/kemal/controller.cr","line_number":196,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L196"},"def":{"name":"redirect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@context.redirect(*args, **options)"},"external_var":false},{"html_id":"redirect(*args,**options,&)-instance-method","name":"redirect","doc":"Delegates to the redirect method from the context.\n\nRedirects the request to another URL.\n\n## Example\n\n```\nredirect(\"/login\")\n```","summary":"<p>Delegates to the redirect method from the context.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/kemal/controller.cr","line_number":196,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L196"},"def":{"name":"redirect","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@context.redirect(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"request(*args,**options)-instance-method","name":"request","doc":"Delegates to the request object from the context.\n\nProvides direct access to the HTTP::Request for the current request.","summary":"<p>Delegates to the request object from the context.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/kemal/controller.cr","line_number":175,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L175"},"def":{"name":"request","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@context.request(*args, **options)"},"external_var":false},{"html_id":"request(*args,**options,&)-instance-method","name":"request","doc":"Delegates to the request object from the context.\n\nProvides direct access to the HTTP::Request for the current request.","summary":"<p>Delegates to the request object from the context.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/kemal/controller.cr","line_number":175,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L175"},"def":{"name":"request","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@context.request(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"response(*args,**options)-instance-method","name":"response","doc":"Delegates to the response object from the context.\n\nProvides direct access to the HTTP::Response for the current request.","summary":"<p>Delegates to the response object from the context.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/kemal/controller.cr","line_number":180,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L180"},"def":{"name":"response","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@context.response(*args, **options)"},"external_var":false},{"html_id":"response(*args,**options,&)-instance-method","name":"response","doc":"Delegates to the response object from the context.\n\nProvides direct access to the HTTP::Response for the current request.","summary":"<p>Delegates to the response object from the context.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/kemal/controller.cr","line_number":180,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L180"},"def":{"name":"response","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@context.response(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false},{"html_id":"session(*args,**options)-instance-method","name":"session","doc":"Delegates to the session object from the context.\n\nProvides access to the Kemal session for the current request.","summary":"<p>Delegates to the session object from the context.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options)","args_html":"(*args, **options)","location":{"filename":"src/kemal/controller.cr","line_number":185,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L185"},"def":{"name":"session","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"visibility":"Public","body":"@context.session(*args, **options)"},"external_var":false},{"html_id":"session(*args,**options,&)-instance-method","name":"session","doc":"Delegates to the session object from the context.\n\nProvides access to the Kemal session for the current request.","summary":"<p>Delegates to the session object from the context.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(*args, **options, &)","args_html":"(*args, **options, &)","location":{"filename":"src/kemal/controller.cr","line_number":185,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L185"},"def":{"name":"session","args":[{"name":"args","external_name":"args","restriction":""}],"double_splat":{"name":"options","external_name":"options","restriction":""},"splat_index":0,"yields":1,"block_arity":1,"visibility":"Public","body":"@context.session(*args, **options) do |*yield_args|\n  yield *yield_args\nend"},"external_var":false}],"types":[{"html_id":"kemal-controller/Kemal/Controller/Delete","path":"Kemal/Controller/Delete.html","kind":"annotation","full_name":"Kemal::Controller::Delete","name":"Delete","abstract":false,"locations":[{"filename":"src/kemal/controller.cr","line_number":92,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L92"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal/Controller","kind":"struct","full_name":"Kemal::Controller","name":"Controller"},"doc":"Annotation to define a Delete route for a controller method.\n\n## Parameters\n\n- `path` : String - The URL path for the route (can include path parameters like `:id`)\n- `auth` : Bool - If true, requires authentication via `authenticate!` method (default: false)\n- `strip` : Bool | Array(Symbol) - If true, strips all parameters; if array, strips only specified parameters (default: false)\n\nSee `Kemal::Controller` documentation for usage examples.","summary":"<p>Annotation to define a Delete route for a controller method.</p>"},{"html_id":"kemal-controller/Kemal/Controller/Errors","path":"Kemal/Controller/Errors.html","kind":"alias","full_name":"Kemal::Controller::Errors","name":"Errors","abstract":false,"locations":[{"filename":"src/kemal/controller.cr","line_number":110,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L110"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":true,"aliased":"Hash(String, String)","aliased_html":"Hash(String, String)","const":false,"namespace":{"html_id":"kemal-controller/Kemal/Controller","kind":"struct","full_name":"Kemal::Controller","name":"Controller"},"doc":"Type alias for validation errors stored as field name to error message mappings.\n\nUsed by the `error` methods to store validation errors that occurred during\nrequest processing.","summary":"<p>Type alias for validation errors stored as field name to error message mappings.</p>"},{"html_id":"kemal-controller/Kemal/Controller/Get","path":"Kemal/Controller/Get.html","kind":"annotation","full_name":"Kemal::Controller::Get","name":"Get","abstract":false,"locations":[{"filename":"src/kemal/controller.cr","line_number":92,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L92"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal/Controller","kind":"struct","full_name":"Kemal::Controller","name":"Controller"},"doc":"Annotation to define a Get route for a controller method.\n\n## Parameters\n\n- `path` : String - The URL path for the route (can include path parameters like `:id`)\n- `auth` : Bool - If true, requires authentication via `authenticate!` method (default: false)\n- `strip` : Bool | Array(Symbol) - If true, strips all parameters; if array, strips only specified parameters (default: false)\n\nSee `Kemal::Controller` documentation for usage examples.","summary":"<p>Annotation to define a Get route for a controller method.</p>"},{"html_id":"kemal-controller/Kemal/Controller/Head","path":"Kemal/Controller/Head.html","kind":"annotation","full_name":"Kemal::Controller::Head","name":"Head","abstract":false,"locations":[{"filename":"src/kemal/controller.cr","line_number":92,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L92"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal/Controller","kind":"struct","full_name":"Kemal::Controller","name":"Controller"},"doc":"Annotation to define a Head route for a controller method.\n\n## Parameters\n\n- `path` : String - The URL path for the route (can include path parameters like `:id`)\n- `auth` : Bool - If true, requires authentication via `authenticate!` method (default: false)\n- `strip` : Bool | Array(Symbol) - If true, strips all parameters; if array, strips only specified parameters (default: false)\n\nSee `Kemal::Controller` documentation for usage examples.","summary":"<p>Annotation to define a Head route for a controller method.</p>"},{"html_id":"kemal-controller/Kemal/Controller/Options","path":"Kemal/Controller/Options.html","kind":"annotation","full_name":"Kemal::Controller::Options","name":"Options","abstract":false,"locations":[{"filename":"src/kemal/controller.cr","line_number":92,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L92"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal/Controller","kind":"struct","full_name":"Kemal::Controller","name":"Controller"},"doc":"Annotation to define a Options route for a controller method.\n\n## Parameters\n\n- `path` : String - The URL path for the route (can include path parameters like `:id`)\n- `auth` : Bool - If true, requires authentication via `authenticate!` method (default: false)\n- `strip` : Bool | Array(Symbol) - If true, strips all parameters; if array, strips only specified parameters (default: false)\n\nSee `Kemal::Controller` documentation for usage examples.","summary":"<p>Annotation to define a Options route for a controller method.</p>"},{"html_id":"kemal-controller/Kemal/Controller/Patch","path":"Kemal/Controller/Patch.html","kind":"annotation","full_name":"Kemal::Controller::Patch","name":"Patch","abstract":false,"locations":[{"filename":"src/kemal/controller.cr","line_number":92,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L92"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal/Controller","kind":"struct","full_name":"Kemal::Controller","name":"Controller"},"doc":"Annotation to define a Patch route for a controller method.\n\n## Parameters\n\n- `path` : String - The URL path for the route (can include path parameters like `:id`)\n- `auth` : Bool - If true, requires authentication via `authenticate!` method (default: false)\n- `strip` : Bool | Array(Symbol) - If true, strips all parameters; if array, strips only specified parameters (default: false)\n\nSee `Kemal::Controller` documentation for usage examples.","summary":"<p>Annotation to define a Patch route for a controller method.</p>"},{"html_id":"kemal-controller/Kemal/Controller/Post","path":"Kemal/Controller/Post.html","kind":"annotation","full_name":"Kemal::Controller::Post","name":"Post","abstract":false,"locations":[{"filename":"src/kemal/controller.cr","line_number":92,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L92"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal/Controller","kind":"struct","full_name":"Kemal::Controller","name":"Controller"},"doc":"Annotation to define a Post route for a controller method.\n\n## Parameters\n\n- `path` : String - The URL path for the route (can include path parameters like `:id`)\n- `auth` : Bool - If true, requires authentication via `authenticate!` method (default: false)\n- `strip` : Bool | Array(Symbol) - If true, strips all parameters; if array, strips only specified parameters (default: false)\n\nSee `Kemal::Controller` documentation for usage examples.","summary":"<p>Annotation to define a Post route for a controller method.</p>"},{"html_id":"kemal-controller/Kemal/Controller/Put","path":"Kemal/Controller/Put.html","kind":"annotation","full_name":"Kemal::Controller::Put","name":"Put","abstract":false,"locations":[{"filename":"src/kemal/controller.cr","line_number":92,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/controller.cr#L92"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal/Controller","kind":"struct","full_name":"Kemal::Controller","name":"Controller"},"doc":"Annotation to define a Put route for a controller method.\n\n## Parameters\n\n- `path` : String - The URL path for the route (can include path parameters like `:id`)\n- `auth` : Bool - If true, requires authentication via `authenticate!` method (default: false)\n- `strip` : Bool | Array(Symbol) - If true, strips all parameters; if array, strips only specified parameters (default: false)\n\nSee `Kemal::Controller` documentation for usage examples.","summary":"<p>Annotation to define a Put route for a controller method.</p>"}]},{"html_id":"kemal-controller/Kemal/KeyError","path":"Kemal/KeyError.html","kind":"class","full_name":"Kemal::KeyError","name":"KeyError","abstract":false,"superclass":{"html_id":"kemal-controller/KeyError","kind":"class","full_name":"KeyError","name":"KeyError"},"ancestors":[{"html_id":"kemal-controller/KeyError","kind":"class","full_name":"KeyError","name":"KeyError"},{"html_id":"kemal-controller/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"kemal-controller/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"kemal-controller/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/kemal/from_www_form.cr","line_number":38,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/from_www_form.cr#L38"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal","kind":"module","full_name":"Kemal","name":"Kemal"},"doc":"Exception raised when a required parameter is not found in the request.\n\nThis error is raised when a controller method declares a non-nilable parameter\nbut the corresponding key is missing from the request data.\n\n## Example\n\n```\n@[Get(\"/users\")]\ndef index(name : String) # name is required\n  \"Hello, #{name}\"\nend\n# GET /users without ?name=... will raise Kemal::KeyError\n```","summary":"<p>Exception raised when a required parameter is not found in the request.</p>","constructors":[{"html_id":"new(form_key:String)-class-method","name":"new","abstract":false,"args":[{"name":"form_key","external_name":"form_key","restriction":"String"}],"args_string":"(form_key : String)","args_html":"(form_key : String)","location":{"filename":"src/kemal/from_www_form.cr","line_number":39,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/kemal/from_www_form.cr#L39"},"def":{"name":"new","args":[{"name":"form_key","external_name":"form_key","restriction":"String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(form_key)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"},"external_var":false}]},{"html_id":"kemal-controller/Kemal/ParamParser","path":"Kemal/ParamParser.html","kind":"class","full_name":"Kemal::ParamParser","name":"ParamParser","abstract":false,"superclass":{"html_id":"kemal-controller/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"kemal-controller/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"kemal-controller/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"lib/kemal/src/kemal/param_parser.cr","line_number":5,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/lib/kemal/src/kemal/param_parser.cr#L5"},{"filename":"src/ext/param_parser.cr","line_number":5,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/ext/param_parser.cr#L5"}],"repository_name":"kemal-controller","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"kemal-controller/Kemal","kind":"module","full_name":"Kemal","name":"Kemal"},"doc":"This monkey patch is needed because Kemal's ParamParser does not expose the raw body.\nThis is required to properly implement Web.parse_www_form which needs the raw body\nto parse form parameters.","summary":"<p>This monkey patch is needed because Kemal's ParamParser does not expose the raw body.</p>","instance_methods":[{"html_id":"raw_body-instance-method","name":"raw_body","doc":"Returns the raw body of the request.","summary":"<p>Returns the raw body of the request.</p>","abstract":false,"location":{"filename":"src/ext/param_parser.cr","line_number":9,"url":"https://github.com/hugopl/kemal-controller/blob/40d29bbd6dae45642e455b8512cc6983dce51d6e/src/ext/param_parser.cr#L9"},"def":{"name":"raw_body","visibility":"Public","body":"if @body_parsed\nelse\n  parse_body\nend\n@raw_body\n"},"external_var":false}]}]}]}})